# diagnosis records management of Hospital Amrit
management of diagnosis records of hospital amrit

## run guide
- run mongodb instance 
  - port 27017 should be exposed
- run app
  - install requirements \
    `pip install -r requirements`
  - run using gunicorn, exposing 8000 port, setting environment variable "MONGOHOST" as "localhost" \
    `gunicorn  app:app -e MONGOHOST=localhost -w 3`

To run the app locally/ without gunicorn (for development works :-) )
- after activating venv
- install all requirements using requirements.txt
- expose MONGOHOST variable as localhost
  `export MONGOHOST="localhost" `
- run this command -
  `python3 app.py `

## api routes

- GET - /diags - all patients id's and names
- GET - /diag/id - get all details of specific patient
- POST - /diag - add a record
- PUT - /diag - update a record
- POST - /diag - add a record
- DELETE - /diag - delete a record
- Documentation - /doc - full swaggerUI documentation and all Resources/namespaces/endpoints and can easily hit all api's from there

Note: more api documentation is automatically generated by swaggerUI

## Database Info (MongoDB)
- mongodb port - default port - 27017
- database name - "hospital"
- collections names -
    - "diagnosis_records"
    - "last_diagnosis_id"

## things working

- [x] All routes 
  - [x] Create
  - [x] Read
  - [x] Update
  - [x] Delete

- [x] Database integration - mongodb
